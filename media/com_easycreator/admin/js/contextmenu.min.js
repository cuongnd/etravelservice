var SimpleContextMenu={_menus:new Array,_attachedElement:null,_menuElement:null,_preventDefault:true,_preventForms:true,setup:function(a){if(document.all&&document.getElementById&&!window.opera){SimpleContextMenu.IE=true}if(!document.all&&document.getElementById&&!window.opera){SimpleContextMenu.FF=true}if(document.all&&document.getElementById&&window.opera){SimpleContextMenu.OP=true}if(SimpleContextMenu.IE||SimpleContextMenu.FF){document.oncontextmenu=SimpleContextMenu._show;document.onclick=SimpleContextMenu._hide;if(a&&typeof(a.preventDefault)!="undefined"){SimpleContextMenu._preventDefault=a.preventDefault}if(a&&typeof(a.preventForms)!="undefined"){SimpleContextMenu._preventForms=a.preventForms}}},attach:function(a,b){if(typeof(a)=="string"){SimpleContextMenu._menus[a]=b}if(typeof(a)=="object"){for(x=0;x<a.length;x++){SimpleContextMenu._menus[a[x]]=b}}},_getMenuElementId:function(c){if(SimpleContextMenu.IE){SimpleContextMenu._attachedElement=event.srcElement}else{SimpleContextMenu._attachedElement=c.target}while(SimpleContextMenu._attachedElement!=null){var b=SimpleContextMenu._attachedElement.className;if(typeof(b)!="undefined"){b=b.replace(/^\s+/g,"").replace(/\s+$/g,"");var a=b.split(/[ ]+/g);for(i=0;i<a.length;i++){if(SimpleContextMenu._menus[a[i]]){return SimpleContextMenu._menus[a[i]]}}}if(SimpleContextMenu.IE){SimpleContextMenu._attachedElement=SimpleContextMenu._attachedElement.parentElement}else{SimpleContextMenu._attachedElement=SimpleContextMenu._attachedElement.parentNode}}return null},_getReturnValue:function(f){var c=true;var a=SimpleContextMenu.IE?window.event:f;if(a.button!=1){if(a.target){var b=a.target}else{if(a.srcElement){var b=a.srcElement}}var d=b.tagName.toLowerCase();if((d=="input"||d=="textarea")){if(!SimpleContextMenu._preventForms){c=true}else{c=false}}else{if(!SimpleContextMenu._preventDefault){c=true}else{c=false}}}return c},_show:function(d){SimpleContextMenu._hide();var c=SimpleContextMenu._getMenuElementId(d);if(c){var a=SimpleContextMenu._getMousePosition(d);var b=SimpleContextMenu._getScrollPosition(d);SimpleContextMenu._menuElement=document.getElementById(c);SimpleContextMenu._menuElement.style.left=a.x+b.x+"px";SimpleContextMenu._menuElement.style.top=a.y+b.y+"px";SimpleContextMenu._menuElement.style.display="block";return false}return SimpleContextMenu._getReturnValue(d)},_hide:function(){if(SimpleContextMenu._menuElement){SimpleContextMenu._menuElement.style.display="none"}},_getMousePosition:function(b){b=b?b:window.event;var a={x:b.clientX,y:b.clientY};return a},_getScrollPosition:function(){var b=0;var c=0;if(typeof(window.pageYOffset)=="number"){b=window.pageXOffset;c=window.pageYOffset}else{if(document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)){b=document.documentElement.scrollLeft;c=document.documentElement.scrollTop}else{if(document.body&&(document.body.scrollLeft||document.body.scrollTop)){b=document.body.scrollLeft;c=document.body.scrollTop}}}var a={x:b,y:c};return a}};var ecr_act_field;function setAction(d,c,b,e){if(FBPresent){console.log(c,b,e)}var a;if(d.which==null){a=(d.button<2)?"LEFT":((d.button==4)?"MIDDLE":"RIGHT")}else{a=(d.which<2)?"LEFT":((d.which==2)?"MIDDLE":"RIGHT")}if(a=="RIGHT"){$("act_folder").value=c;if(FBPresent){console.log("folder set to "+c)}if(b!=undefined){$("act_file").value=b;if(FBPresent){console.log("file set to "+b)}}if(e){if(ecr_act_field){$(ecr_act_field).setStyle("color","black")}$(e).setStyle("color","blue");ecr_act_field=e}}}function processForm(a){alert(a)};