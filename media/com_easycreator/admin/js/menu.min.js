var stdMenuImgs=new Array("archive","article","category","checkin","component","config","content","cpanel","default","frontpage","help","info","install","language","logout","massmail","media","menu","menumgr","messages","module","plugin","stats","themes","trash","user ");function newSubmenu(g,f,k,j,i,h){newLi=addSubmenu("","","","","",h);sortSubMenu.addItems(newLi)}function addSubmenu(k,i,d,a,h,j){var b=document.id("divSubmenu");var c=document.id("totalSubmenu");var g=(document.id("totalSubmenu").value-1)+2;c.value=g;var e="submenu"+g+"Div";var l=document.createElement("li");l.setAttribute("class","menu");var f="";f+='<input type="hidden" name="submenu['+g+'][menuid]" value="'+h+'" />';if(j){f+='<input type="hidden" name="submenu['+g+'][parent]" value="'+j+'" />'}f+='<i class="img icon16-move" style="cursor: move;"></i><span class="ecr_label2">'+jgettext("Text")+'</span><input type="text" name="submenu['+g+'][text]" size="15" value="'+k+'" style="border: 2px solid blue; font-size: 1.3em;" />';f+='<span class="ecr_label2">'+jgettext("Link")+"</span>";f+='<input type="text" name="submenu['+g+'][link]" size="25" value="'+i+'" />';f+="<br />";f+="<br />";f+='<span class="ecr_label2">'+jgettext("Image")+"</span>";f+='<div id="menuPic-'+g+'" style="display: inline;"></div>';f+='<div id="prev-'+g+'" style="display: inline;"></div>';f+='<input type="text" name="submenu['+g+'][img]" size="30" value="'+d+'" id="img-'+g+'" />';f+='<div style="float: right" class="btn" onclick="this.getParent().dispose();"><i class="img icon16-delete"></i>'+jgettext("Delete")+"</div>";l.set("html",f);b.appendChild(l);drawPicChooser(g,d);return l}function chgMenuPic(a){if(a==undefined){a=""}selection=$("opt-"+a).value;switch(selection){case"":$("img-"+a).value="";$("img-"+a).readOnly=true;$("prev-"+a).setAttribute("class","");break;case"user_defined":$("img-"+a).readOnly=false;$("prev-"+a).setAttribute("class","");break;default:$("img-"+a).value=selection;$("img-"+a).readOnly=true;$("prev-"+a).setAttribute("class","img icon-16-"+selection);break}}function drawPicChooser(a,c){html="";html+='<select name="opt-'+a+'" id="opt-'+a+'" onchange="chgMenuPic('+a+');">';html+='<option value="">'+jgettext("Select...")+"</option>";found=false;for(var b=0;b<=stdMenuImgs.length-1;b++){selected="";if(c==stdMenuImgs[b]){selected=' selected="selected"';found=true}html+="<option"+selected+' class="img icon-16-'+stdMenuImgs[b]+'">'+stdMenuImgs[b]+"</option>"}selected="";if(c!=""&&found==false){selected=' selected="selected"'}html+='<option value="user_defined"'+selected+">"+jgettext("User defined")+"</option>";html+="</select>";$("menuPic-"+a).innerHTML=html;chgMenuPic(a)};