function save_file(){url="index.php?option=com_easycreator&tmpl=component&format=raw";url+="&controller=ajax&task=save";code=encodeURIComponent(editAreaLoader.getValue("ecr_code_area"));post="";post+="file_path="+$("file_path").value;post+="&file_name="+$("file_name").value;post+="&c_insertstring="+code;var b=$("ecr_status_msg");var c=$("ecr_title_file");var a=new Fx.Morph(b,{});new Request({url:url,onRequest:function(){oldTitle=$("ecr_title_file").innerHTML;c.innerHTML=jgettext("Saving...");c.addClass("ajax_loading16-red")},onComplete:function(d){resp=JSON.decode(d);c.innerHTML=oldTitle;c.removeClass("ajax_loading16-red");b.innerHTML=resp.text;b.style.display="inline";if(resp.status){b.addClass("img icon16-cancel");b.style.color="red"}else{b.removeClass("img icon16-cancel");b.addClass("img icon16-apply");b.style.color="green"}$("ajaxDebug").innerHTML=resp.debug;a.start({}).chain(function(){this.start.delay(1000,this,{opacity:0})}).chain(function(){b.style.display="none";this.start.delay(100,this,{opacity:1})})},onFailure:function(d){alert(d.responseText)}}).send(post)};