var lastId;var EcrLog=new Class({loadLog:function(b,d){if(lastId!=undefined){document.id(lastId).setStyles({border:"0px"})}lastId=d;var c=document.id("ecr_logView");var a=c.className;new Request.JSON({url:ecrAJAXLink+"&controller=logfiles&task=showLogfile&fileName="+b,onRequest:function(){c.addClass("ajax_loading16");c.innerHTML=jgettext("Loading...");document.id(d).setStyles({border:"1px solid #000"})},onComplete:function(e){c.removeClass("ajax_loading16");if(e.status){c.innerHTML='<strong style="color: red;">'+e.message+"</strong><br />"+e.debug}else{c.innerHTML="<pre>"+e.message+"</pre>"}c.className=a},onFailure:function(){c.removeClass("ajax_loading16")}}).send()}});var EcrLog=new EcrLog();